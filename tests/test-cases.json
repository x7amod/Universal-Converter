{
  "Detection": [
    {
      "name": "Unicode alias: cm² → cm2",
      "type": "normalize",
      "input": "cm²",
      "expected": "cm2"
    },
    {
      "name": "Unicode alias: m² → m2",
      "type": "normalize",
      "input": "m²",
      "expected": "m2"
    },
    {
      "name": "Text alias: square meters → m2",
      "type": "normalize",
      "input": "square meters",
      "expected": "m2"
    },
    {
      "name": "Text alias: meters squared → m2",
      "type": "normalize",
      "input": "meters squared",
      "expected": "m2"
    },
    {
      "name": "Unit type: cm2 is area",
      "type": "unitType",
      "input": "cm2",
      "expected": "area"
    },
    {
      "name": "Unit type: cm is length",
      "type": "unitType",
      "input": "cm",
      "expected": "length"
    },
    {
      "name": "Pattern: \"1 ft²\" detected",
      "type": "patternDetection",
      "input": {
        "text": "1 ft²",
        "userSettings": {
          "lengthUnit": "m",
          "areaUnit": "m2",
          "weightUnit": "kg",
          "temperatureUnit": "c",
          "volumeUnit": "l"
        }
      },
      "expected": {
        "minConversions": 1
      }
    },
    {
      "name": "Pattern: \"1 ft²\" detected as area",
      "type": "patternDetectionType",
      "input": {
        "text": "1 ft²",
        "userSettings": {
          "lengthUnit": "m",
          "areaUnit": "m2",
          "weightUnit": "kg",
          "temperatureUnit": "c",
          "volumeUnit": "l"
        }
      },
      "expected": "area"
    },
    {
      "name": "Pattern: \"3 feet\" detected",
      "type": "patternDetection",
      "input": {
        "text": "3 feet",
        "userSettings": {
          "lengthUnit": "m",
          "areaUnit": "m2",
          "weightUnit": "kg",
          "temperatureUnit": "c",
          "volumeUnit": "l"
        }
      },
      "expected": {
        "minConversions": 1
      }
    },
    {
      "name": "Pattern: \"3 feet\" detected as length",
      "type": "patternDetectionType",
      "input": {
        "text": "3 feet",
        "userSettings": {
          "lengthUnit": "m",
          "areaUnit": "m2",
          "weightUnit": "kg",
          "temperatureUnit": "c",
          "volumeUnit": "l"
        }
      },
      "expected": "length"
    },
    {
      "name": "Pattern: \"1 square foot\" detected",
      "type": "patternDetection",
      "input": {
        "text": "1 square foot",
        "userSettings": {
          "lengthUnit": "m",
          "areaUnit": "m2",
          "weightUnit": "kg",
          "temperatureUnit": "c",
          "volumeUnit": "l"
        }
      },
      "expected": {
        "minConversions": 1
      }
    },
    {
      "name": "Single Selection: Dimension should convert cm to m when user prefers meters",
      "type": "doubleDetectionCount",
      "input": {
        "text": "36.5 x 110.8 x 32 cm",
        "userSettings": {
          "lengthUnit": "m",
          "areaUnit": "m2",
          "weightUnit": "kg",
          "temperatureUnit": "c",
          "volumeUnit": "l",
          "currencyUnit": "USD"
        }
      },
      "expected": 1
    },
    {
      "name": "Single Selection: Dimension should convert cm to m and detect as dimensions type",
      "type": "doubleDetectionType",
      "input": {
        "text": "36.5 x 110.8 x 32 cm",
        "userSettings": {
          "lengthUnit": "m",
          "areaUnit": "m2",
          "weightUnit": "kg",
          "temperatureUnit": "c",
          "volumeUnit": "l",
          "currencyUnit": "USD"
        }
      },
      "expected": "dimensions"
    },
    {
      "name": "Single Selection: Same unit should NOT convert (same-unit suppression)",
      "type": "doubleDetectionCount",
      "input": {
        "text": "36.5 x 110.8 x 32 cm",
        "userSettings": {
          "lengthUnit": "cm",
          "areaUnit": "m2",
          "weightUnit": "kg",
          "temperatureUnit": "c",
          "volumeUnit": "l",
          "currencyUnit": "USD"
        }
      },
      "expected": 0
    },
    {
      "name": "Single Selection: Large dimension should convert to meters",
      "type": "doubleDetectionCount",
      "input": {
        "text": "365 x 1108 x 320 cm",
        "userSettings": {
          "lengthUnit": "m",
          "areaUnit": "m2",
          "weightUnit": "kg",
          "temperatureUnit": "c",
          "volumeUnit": "l",
          "currencyUnit": "USD"
        }
      },
      "expected": 1
    },
    {
      "name": "Original Bug: \"36.5 x 110.8 x 32 cm\" should convert to meters when user prefers meters",
      "type": "originalBugFix",
      "input": {
        "text": "36.5 x 110.8 x 32 cm",
        "userSettings": {
          "lengthUnit": "m",
          "areaUnit": "m2",
          "weightUnit": "kg",
          "temperatureUnit": "c",
          "volumeUnit": "l",
          "currencyUnit": "USD"
        }
      },
      "expected": {
        "count": 1,
        "type": "dimensions",
        "allDimensions": true
      }
    },
    {
      "name": "Simple dimension (small values, getBestUnit chooses cm)",
      "text": "10 x 20 x 30 cm",
      "expectedCount": 0,
      "expectedType": null
    },
    {
      "name": "Large dimension (should convert to meters)",
      "text": "150 x 200 x 300 cm",
      "expectedCount": 1,
      "expectedType": "dimensions"
    },
    {
      "name": "Dimension in inches",
      "text": "12.5 x 8.0 x 3.5 in",
      "expectedCount": 1,
      "expectedType": "dimensions"
    },
    {
      "name": "No spaces in dimension",
      "text": "36.5x110.8x32cm",
      "expectedCount": 1,
      "expectedType": "dimensions"
    },
    {
      "name": "Unicode multiply symbols",
      "text": "36.5 × 110.8 × 32 cm",
      "expectedCount": 1,
      "expectedType": "dimensions"
    },
    {
      "name": "Height measurement",
      "text": "180 cm",
      "expectedCount": 1,
      "expectedTypeNot": "dimensions"
    },
    {
      "name": "Single measurement",
      "text": "25 inches",
      "expectedCount": 1,
      "expectedTypeNot": "dimensions"
    },
    {
      "name": "Single Selection: \"$100\" should convert to target currency",
      "type": "singleSelection",
      "input": {
        "selectedText": "$100",
        "currencyUnit": "EUR"
      },
      "expected": {
        "conversionType": "currency",
        "hasConversion": true
      }
    },
    {
      "name": "Currency: \"$89.99 CAD\" should detect as CAD not USD",
      "type": "currencyCodeDetection",
      "input": {
        "text": "$89.99 CAD"
      },
      "expected": {
        "currencyCode": "CAD"
      }
    },
    {
      "name": "Currency: \"$50 AUD\" should detect as AUD not USD",
      "type": "currencyCodeDetection",
      "input": {
        "text": "$50 AUD"
      },
      "expected": {
        "currencyCode": "AUD"
      }
    },
    {
      "name": "Currency: \"CAD $100\" should detect as CAD not USD",
      "type": "currencyCodeDetection",
      "input": {
        "text": "CAD $100"
      },
      "expected": {
        "currencyCode": "CAD"
      }
    },
    {
      "name": "Currency: \"$25.00 NZD\" should detect as NZD not USD",
      "type": "currencyCodeDetection",
      "input": {
        "text": "$25.00 NZD"
      },
      "expected": {
        "currencyCode": "NZD"
      }
    },
    {
      "name": "Currency: \"$100\" with no explicit code should detect based on context",
      "type": "currencyCodeDetection",
      "input": {
        "text": "$100"
      },
      "expected": {
        "currencyCode": "USD"
      }
    },
    {
      "name": "Single Selection: \"6m × 4m × 2.5m\" should convert dimensions",
      "type": "singleSelection",
      "input": {
        "selectedText": "6m × 4m × 2.5m",
        "lengthUnit": "ft"
      },
      "expected": {
        "conversionType": "dimensions",
        "hasConversion": true
      }
    },
    {
      "name": "Single Selection: \"200g\" should convert weight",
      "type": "singleSelection",
      "input": {
        "selectedText": "200g",
        "weightUnit": "oz"
      },
      "expected": {
        "conversionType": "weight",
        "hasConversion": true
      }
    },
    {
      "name": "Single Selection: \"100 inches\" should convert length",
      "type": "singleSelection",
      "input": {
        "selectedText": "100 inches",
        "lengthUnit": "cm"
      },
      "expected": {
        "conversionType": "length",
        "hasConversion": true
      }
    },
    {
      "name": "Single Selection: \"32°F\" should convert temperature",
      "type": "singleSelection",
      "input": {
        "selectedText": "32°F",
        "temperatureUnit": "c"
      },
      "expected": {
        "conversionType": "temperature",
        "hasConversion": true
      }
    },
    {
      "name": "Single Selection: \"in the US\" should not convert (no measurement)",
      "type": "singleSelection",
      "input": {
        "selectedText": "in the US",
        "lengthUnit": "cm"
      },
      "expected": {
        "hasConversion": false
      }
    },
    {
      "name": "Single Selection: \"hello world\" should not convert (no measurement)",
      "type": "singleSelection",
      "input": {
        "selectedText": "hello world",
        "lengthUnit": "cm"
      },
      "expected": {
        "hasConversion": false
      }
    },
    {
      "name": "Timezone Detection: \"3:30 PM EST\" detected",
      "type": "patternDetection",
      "input": {
        "text": "3:30 PM EST",
        "userSettings": {
          "timezoneUnit": "PST"
        }
      },
      "expected": {
        "minConversions": 1,
        "type": "timezone"
      }
    },
    {
      "name": "Timezone Detection: \"Meeting at 9:45 AM GMT\" detected",
      "type": "patternDetection",
      "input": {
        "text": "Meeting at 9:45 AM GMT",
        "userSettings": {
          "timezoneUnit": "PST"
        }
      },
      "expected": {
        "minConversions": 1,
        "type": "timezone"
      }
    },
    {
      "name": "Timezone Detection: \"4:30 PM CET\" detected",
      "type": "patternDetection",
      "input": {
        "text": "4:30 PM CET",
        "userSettings": {
          "timezoneUnit": "PST"
        }
      },
      "expected": {
        "minConversions": 1,
        "type": "timezone"
      }
    },
    {
      "name": "Timezone Detection: \"2:30 PM GMT+5\" detected",
      "type": "patternDetection",
      "input": {
        "text": "2:30 PM GMT+5",
        "userSettings": {
          "timezoneUnit": "PST"
        }
      },
      "expected": {
        "minConversions": 1,
        "type": "timezone"
      }
    },
    {
      "name": "Timezone Detection: \"15:30 EST\" (24-hour) detected",
      "type": "patternDetection",
      "input": {
        "text": "15:30 EST",
        "userSettings": {
          "timezoneUnit": "PST"
        }
      },
      "expected": {
        "minConversions": 1,
        "type": "timezone"
      }
    },
    {
      "name": "Timezone Detection: \"3:30pm Eastern\" (alternative) detected",
      "type": "patternDetection",
      "input": {
        "text": "3:30pm Eastern",
        "userSettings": {
          "timezoneUnit": "PST"
        }
      },
      "expected": {
        "minConversions": 1,
        "type": "timezone"
      }
    },
    {
      "name": "Timezone Detection: Same timezone skipped",
      "type": "patternDetection",
      "input": {
        "text": "2:15 PM PST",
        "userSettings": {
          "timezoneUnit": "PST"
        }
      },
      "expected": {
        "minConversions": 0
      }
    },
    {
      "name": "Timezone Regex: \"3:30 PM EST\" matches",
      "type": "patternFromDataTest",
      "input": {
        "text": "3:30 PM EST",
        "patternType": "timezone"
      },
      "expected": {
        "hasMatch": true
      }
    },
    {
      "name": "Timezone Regex: \"22:45 GMT\" matches",
      "type": "patternFromDataTest",
      "input": {
        "text": "22:45 GMT",
        "patternType": "timezone"
      },
      "expected": {
        "hasMatch": true
      }
    },
    {
      "name": "Timezone Regex: \"6:15 PM UTC+3\" matches",
      "type": "patternFromDataTest",
      "input": {
        "text": "6:15 PM UTC+3",
        "patternType": "timezone"
      },
      "expected": {
        "hasMatch": true
      }
    },
    {
      "name": "Timezone Regex: \"10:45 AM Central\" matches",
      "type": "patternFromDataTest",
      "input": {
        "text": "10:45 AM Central",
        "patternType": "timezone"
      },
      "expected": {
        "hasMatch": true
      }
    },
    {
      "name": "Timezone Pattern: EST abbreviation recognized",
      "type": "normalize",
      "input": "EST",
      "expected": "est"
    },
    {
      "name": "Timezone Pattern: PST abbreviation recognized",
      "type": "normalize",
      "input": "PST",
      "expected": "pst"
    },
    {
      "name": "Timezone Pattern: GMT offset recognized",
      "type": "normalize",
      "input": "GMT+5",
      "expected": "gmt+5"
    },
    {
      "name": "Timezone Pattern: UTC offset recognized",
      "type": "normalize",
      "input": "UTC-3",
      "expected": "utc-3"
    },
    {
      "name": "Pattern: \"60 mph\" detected",
      "type": "patternDetection",
      "input": {
        "text": "60 mph",
        "userSettings": {
          "speedUnit": "kmh"
        }
      },
      "expected": {
        "minConversions": 1
      }
    },
    {
      "name": "Pattern: \"100 N⋅m\" detected",
      "type": "patternDetection",
      "input": {
        "text": "100 N⋅m",
        "userSettings": {
          "torqueUnit": "lbft"
        }
      },
      "expected": {
        "minConversions": 1
      }
    },
    {
      "name": "Pattern: \"30 psi\" detected",
      "type": "patternDetection",
      "input": {
        "text": "30 psi",
        "userSettings": {
          "pressureUnit": "bar"
        }
      },
      "expected": {
        "minConversions": 1
      }
    },
    {
      "name": "Pattern: \"9.8 m/s²\" detected as acceleration",
      "type": "patternDetection",
      "input": {
        "text": "9.8 m/s²",
        "userSettings": {
          "accelerationUnit": "fts2"
        }
      },
      "expected": {
        "minConversions": 1
      }
    },
    {
      "name": "Pattern: \"32 ft/s²\" detected as acceleration",
      "type": "patternDetection",
      "input": {
        "text": "32 ft/s²",
        "userSettings": {
          "accelerationUnit": "ms2"
        }
      },
      "expected": {
        "minConversions": 1
      }
    },
    {
      "name": "Pattern: \"2 g-force\" detected as acceleration",
      "type": "patternDetection",
      "input": {
        "text": "2 g-force",
        "userSettings": {
          "accelerationUnit": "ms2"
        }
      },
      "expected": {
        "minConversions": 1
      }
    },
    {
      "name": "Pattern: \"50 L/min\" detected as flow rate",
      "type": "patternDetection",
      "input": {
        "text": "50 L/min",
        "userSettings": {
          "flowRateUnit": "galmin"
        }
      },
      "expected": {
        "minConversions": 1
      }
    },
    {
      "name": "Pattern: \"10 gal/min\" detected as flow rate",
      "type": "patternDetection",
      "input": {
        "text": "10 gal/min",
        "userSettings": {
          "flowRateUnit": "lmin"
        }
      },
      "expected": {
        "minConversions": 1
      }
    },
    {
      "name": "Pattern: \"100 CFM\" detected as flow rate",
      "type": "patternDetection",
      "input": {
        "text": "100 CFM",
        "userSettings": {
          "flowRateUnit": "lmin"
        }
      },
      "expected": {
        "minConversions": 1
      }
    },
    {
      "name": "Pattern: \"5 cm/s\" detected as speed",
      "type": "patternDetection",
      "input": {
        "text": "5 cm/s",
        "userSettings": {
          "speedUnit": "ms"
        }
      },
      "expected": {
        "minConversions": 1
      }
    },
    {
      "name": "Pattern: \"1000 km/s\" detected as speed",
      "type": "patternDetection",
      "input": {
        "text": "1000 km/s",
        "userSettings": {
          "speedUnit": "ms"
        }
      },
      "expected": {
        "minConversions": 1
      }
    },
    {
      "name": "Pattern: \"0.5 mi/s\" detected as speed",
      "type": "patternDetection",
      "input": {
        "text": "0.5 mi/s",
        "userSettings": {
          "speedUnit": "ms"
        }
      },
      "expected": {
        "minConversions": 1
      }
    },
    {
      "name": "Pattern: \"0.01 cm/s²\" detected as acceleration",
      "type": "patternDetection",
      "input": {
        "text": "0.01 cm/s²",
        "userSettings": {
          "accelerationUnit": "ms2"
        }
      },
      "expected": {
        "minConversions": 1
      }
    },
    {
      "name": "Pattern: \"5000 km/s²\" detected as acceleration",
      "type": "patternDetection",
      "input": {
        "text": "5000 km/s²",
        "userSettings": {
          "accelerationUnit": "ms2"
        }
      },
      "expected": {
        "minConversions": 1
      }
    },
    {
      "name": "Pattern: \"0.2 in/s²\" detected as acceleration",
      "type": "patternDetection",
      "input": {
        "text": "0.2 in/s²",
        "userSettings": {
          "accelerationUnit": "ms2"
        }
      },
      "expected": {
        "minConversions": 1
      }
    },
    {
      "name": "Pattern: \"500 mL/min\" detected as flow rate",
      "type": "patternDetection",
      "input": {
        "text": "500 mL/min",
        "userSettings": {
          "flowRateUnit": "lmin"
        }
      },
      "expected": {
        "minConversions": 1
      }
    },
    {
      "name": "Pattern: \"2 mL/s\" detected as flow rate",
      "type": "patternDetection",
      "input": {
        "text": "2 mL/s",
        "userSettings": {
          "flowRateUnit": "lmin"
        }
      },
      "expected": {
        "minConversions": 1
      }
    },
    {
      "name": "Pattern: \"10 L/s\" detected as flow rate",
      "type": "patternDetection",
      "input": {
        "text": "10 L/s",
        "userSettings": {
          "flowRateUnit": "lmin"
        }
      },
      "expected": {
        "minConversions": 1
      }
    },
    {
      "name": "Pattern: \"300 L/h\" detected as flow rate",
      "type": "patternDetection",
      "input": {
        "text": "300 L/h",
        "userSettings": {
          "flowRateUnit": "lmin"
        }
      },
      "expected": {
        "minConversions": 1
      }
    },
    {
      "name": "Pattern: \"5 gal/s\" detected as flow rate",
      "type": "patternDetection",
      "input": {
        "text": "5 gal/s",
        "userSettings": {
          "flowRateUnit": "lmin"
        }
      },
      "expected": {
        "minConversions": 1
      }
    },
    {
      "name": "Pattern: \"200 gal/h\" detected as flow rate",
      "type": "patternDetection",
      "input": {
        "text": "200 gal/h",
        "userSettings": {
          "flowRateUnit": "lmin"
        }
      },
      "expected": {
        "minConversions": 1
      }
    },
    {
      "name": "Pattern: \"0.5 m³/min\" detected as flow rate",
      "type": "patternDetection",
      "input": {
        "text": "0.5 m³/min",
        "userSettings": {
          "flowRateUnit": "lmin"
        }
      },
      "expected": {
        "minConversions": 1
      }
    },
    {
      "name": "Timezone Pattern: \"5:30 PM EST\" matches timezone pattern",
      "type": "patternFromDataTest",
      "input": {
        "text": "meeting at 5:30 PM EST",
        "patternType": "timezone"
      },
      "expected": {
        "hasMatch": true
      }
    },
    {
      "name": "Timezone Pattern: \"2:15 PM PST\" matches timezone pattern",
      "type": "patternFromDataTest",
      "input": {
        "text": "call scheduled for 2:15 PM PST",
        "patternType": "timezone"
      },
      "expected": {
        "hasMatch": true
      }
    },
    {
      "name": "Timezone Pattern: \"09:00 GMT\" matches timezone pattern",
      "type": "patternFromDataTest",
      "input": {
        "text": "meeting at 09:00 GMT",
        "patternType": "timezone"
      },
      "expected": {
        "hasMatch": true
      }
    },
    {
      "name": "Timezone Pattern: \"14:30 UTC\" matches timezone pattern",
      "type": "patternFromDataTest",
      "input": {
        "text": "webinar at 14:30 UTC",
        "patternType": "timezone"
      },
      "expected": {
        "hasMatch": true
      }
    },
    {
      "name": "Timezone Pattern: \"11:45 AM GMT+5\" matches timezone pattern",
      "type": "patternFromDataTest",
      "input": {
        "text": "conference at 11:45 AM GMT+5",
        "patternType": "timezone"
      },
      "expected": {
        "hasMatch": true
      }
    },
    {
      "name": "Timezone Pattern: \"16:20 GMT-3\" matches timezone pattern",
      "type": "patternFromDataTest",
      "input": {
        "text": "deadline is 16:20 GMT-3",
        "patternType": "timezone"
      },
      "expected": {
        "hasMatch": true
      }
    },
    {
      "name": "Timezone Pattern: \"3:00 PM CST\" matches timezone pattern",
      "type": "patternFromDataTest",
      "input": {
        "text": "event starts 3:00 PM CST",
        "patternType": "timezone"
      },
      "expected": {
        "hasMatch": true
      }
    }
  ],
  "Autosizing": [
    {
      "name": "Auto-size: 0.001 m² → cm²",
      "type": "bestUnit",
      "input": {
        "value": 0.001,
        "unitType": "area",
        "sourceUnit": "m2"
      },
      "expected": "cm2"
    },
    {
      "name": "Auto-size: 0.001 m → mm",
      "type": "bestUnit",
      "input": {
        "value": 0.001,
        "unitType": "length",
        "sourceUnit": "m"
      },
      "expected": "mm"
    },
    {
      "name": "Auto-size: 0.3 m → 30 cm",
      "type": "bestUnitWithValue",
      "input": {
        "value": 0.3,
        "unitType": "length",
        "sourceUnit": "m"
      },
      "expected": {
        "unit": "cm",
        "value": 30
      }
    },
    {
      "name": "Auto-size: 2000000 m² → km²",
      "type": "bestUnit",
      "input": {
        "value": 2000000,
        "unitType": "area",
        "sourceUnit": "m2"
      },
      "expected": "km2"
    },
    {
      "name": "Auto-size: 2000 m → km",
      "type": "bestUnit",
      "input": {
        "value": 2000,
        "unitType": "length",
        "sourceUnit": "m"
      },
      "expected": "km"
    },
    {
      "name": "Auto-size: 0.0001 m → mm",
      "type": "bestUnit",
      "input": {
        "value": 0.0001,
        "unitType": "length",
        "sourceUnit": "m"
      },
      "expected": "mm"
    },
    {
      "name": "Auto-size: 0.99 m → cm",
      "type": "bestUnit",
      "input": {
        "value": 0.99,
        "unitType": "length",
        "sourceUnit": "m"
      },
      "expected": "cm"
    },
    {
      "name": "Auto-size: 5000 m → km",
      "type": "bestUnit",
      "input": {
        "value": 5000,
        "unitType": "length",
        "sourceUnit": "m"
      },
      "expected": "km"
    },
    {
      "name": "Auto-size: 0.5 ft → in",
      "type": "bestUnit",
      "input": {
        "value": 0.5,
        "unitType": "length",
        "sourceUnit": "ft"
      },
      "expected": "in"
    },
    {
      "name": "Auto-size: 10000 ft → mi",
      "type": "bestUnit",
      "input": {
        "value": 10000,
        "unitType": "length",
        "sourceUnit": "ft"
      },
      "expected": "mi"
    },
    {
      "name": "Auto-size: 0.5 kg → g",
      "type": "bestUnit",
      "input": {
        "value": 0.5,
        "unitType": "weight",
        "sourceUnit": "kg"
      },
      "expected": "g"
    },
    {
      "name": "Auto-size: 2000 kg → t",
      "type": "bestUnit",
      "input": {
        "value": 2000,
        "unitType": "weight",
        "sourceUnit": "kg"
      },
      "expected": "t"
    },
    {
      "name": "Auto-size: 0.5 l → ml",
      "type": "bestUnit",
      "input": {
        "value": 0.5,
        "unitType": "volume",
        "sourceUnit": "l"
      },
      "expected": "ml"
    },
    {
      "name": "Auto-size: 0.25 gal → cup",
      "type": "bestUnit",
      "input": {
        "value": 0.25,
        "unitType": "volume",
        "sourceUnit": "gal"
      },
      "expected": "cup"
    },
    {
      "name": "Auto-size: 0.1 m/s → 10 cm/s",
      "type": "bestUnitWithValue",
      "input": {
        "value": 0.1,
        "unitType": "speed",
        "sourceUnit": "ms"
      },
      "expected": {
        "unit": "cms",
        "value": 10
      }
    },
    {
      "name": "Auto-size: 0.5 m/s → cm/s",
      "type": "bestUnit",
      "input": {
        "value": 0.5,
        "unitType": "speed",
        "sourceUnit": "ms"
      },
      "expected": "cms"
    },
    {
      "name": "Auto-size: 100 m/s → km/h",
      "type": "bestUnit",
      "input": {
        "value": 100,
        "unitType": "speed",
        "sourceUnit": "ms"
      },
      "expected": "kmh"
    },
    {
      "name": "Auto-size: 1500 m/s → km/s",
      "type": "bestUnit",
      "input": {
        "value": 1500,
        "unitType": "speed",
        "sourceUnit": "ms"
      },
      "expected": "kms"
    },
    {
      "name": "Auto-size: 0.005 m/s² → cm/s²",
      "type": "bestUnit",
      "input": {
        "value": 0.005,
        "unitType": "acceleration",
        "sourceUnit": "ms2"
      },
      "expected": "cms2"
    },
    {
      "name": "Auto-size: 1500 m/s² → km/s²",
      "type": "bestUnit",
      "input": {
        "value": 1500,
        "unitType": "acceleration",
        "sourceUnit": "ms2"
      },
      "expected": "kms2"
    },
    {
      "name": "Auto-size: 0.5 ft/s² → in/s²",
      "type": "bestUnit",
      "input": {
        "value": 0.5,
        "unitType": "acceleration",
        "sourceUnit": "fts2"
      },
      "expected": "ins2"
    },
    {
      "name": "Auto-size: 0.5 L/min → mL/min",
      "type": "bestUnit",
      "input": {
        "value": 0.5,
        "unitType": "flowRate",
        "sourceUnit": "lmin"
      },
      "expected": "mlmin"
    },
    {
      "name": "Auto-size: 100 L/min → L/s",
      "type": "bestUnit",
      "input": {
        "value": 100,
        "unitType": "flowRate",
        "sourceUnit": "lmin"
      },
      "expected": "ls"
    },
    {
      "name": "Auto-size: 1500 L/min → m³/min",
      "type": "bestUnit",
      "input": {
        "value": 1500,
        "unitType": "flowRate",
        "sourceUnit": "lmin"
      },
      "expected": "m3min"
    },
    {
      "name": "Auto-size: 100 gal/min → gal/s",
      "type": "bestUnit",
      "input": {
        "value": 100,
        "unitType": "flowRate",
        "sourceUnit": "galmin"
      },
      "expected": "gals"
    },
    {
      "name": "Auto-size: 1000 Pa → 1 kPa",
      "type": "bestUnitWithValue",
      "input": {
        "value": 1000,
        "unitType": "pressure",
        "sourceUnit": "pa"
      },
      "expected": {
        "unit": "kpa",
        "value": 1
      }
    }
  ],
  "Conversions": [
    {
      "name": "Length: 100 cm = 1 m",
      "type": "conversion",
      "input": {
        "value": 100,
        "from": "cm",
        "to": "m"
      },
      "expected": 1,
      "tolerance": 0.001
    },
    {
      "name": "Length: 3.28084 ft ≈ 1 m",
      "type": "conversion",
      "input": {
        "value": 3.28084,
        "from": "ft",
        "to": "m"
      },
      "expected": 1,
      "tolerance": 0.001
    },
    {
      "name": "Weight: 1000 g = 1 kg",
      "type": "conversion",
      "input": {
        "value": 1000,
        "from": "g",
        "to": "kg"
      },
      "expected": 1,
      "tolerance": 0.001
    },
    {
      "name": "Temperature: 0°C = 32°F",
      "type": "conversion",
      "input": {
        "value": 0,
        "from": "c",
        "to": "f"
      },
      "expected": 32,
      "tolerance": 0.001
    },
    {
      "name": "Temperature: 32°F = 0°C",
      "type": "conversion",
      "input": {
        "value": 32,
        "from": "f",
        "to": "c"
      },
      "expected": 0,
      "tolerance": 0.001
    },
    {
      "name": "Area: 10000 cm² = 1 m²",
      "type": "conversion",
      "input": {
        "value": 10000,
        "from": "cm2",
        "to": "m2"
      },
      "expected": 1,
      "tolerance": 0.001
    },
    {
      "name": "Area: 1 ft² ≈ 0.092903 m²",
      "type": "conversion",
      "input": {
        "value": 1,
        "from": "ft2",
        "to": "m2"
      },
      "expected": 0.092903,
      "tolerance": 0.001
    },
    {
      "name": "Length: 10 mm = 1 cm",
      "type": "conversion",
      "input": {
        "value": 10,
        "from": "mm",
        "to": "cm"
      },
      "expected": 1,
      "tolerance": 0.001
    },
    {
      "name": "Length: 1 km = 1000 m",
      "type": "conversion",
      "input": {
        "value": 1,
        "from": "km",
        "to": "m"
      },
      "expected": 1000,
      "tolerance": 0.001
    },
    {
      "name": "Length: 12 in = 1 ft",
      "type": "conversion",
      "input": {
        "value": 12,
        "from": "in",
        "to": "ft"
      },
      "expected": 1,
      "tolerance": 0.001
    },
    {
      "name": "Length: 1 yd = 3 ft",
      "type": "conversion",
      "input": {
        "value": 1,
        "from": "yd",
        "to": "ft"
      },
      "expected": 3,
      "tolerance": 0.001
    },
    {
      "name": "Length: 1 mi = 5280 ft",
      "type": "conversion",
      "input": {
        "value": 1,
        "from": "mi",
        "to": "ft"
      },
      "expected": 5280,
      "tolerance": 0.1
    },
    {
      "name": "Weight: 1000 mg = 1 g",
      "type": "conversion",
      "input": {
        "value": 1000,
        "from": "mg",
        "to": "g"
      },
      "expected": 1,
      "tolerance": 0.001
    },
    {
      "name": "Weight: 1 t = 1000 kg",
      "type": "conversion",
      "input": {
        "value": 1,
        "from": "t",
        "to": "kg"
      },
      "expected": 1000,
      "tolerance": 0.001
    },
    {
      "name": "Weight: 16 oz = 1 lb",
      "type": "conversion",
      "input": {
        "value": 16,
        "from": "oz",
        "to": "lb"
      },
      "expected": 1,
      "tolerance": 0.001
    },
    {
      "name": "Volume: 1000 ml = 1 l",
      "type": "conversion",
      "input": {
        "value": 1000,
        "from": "ml",
        "to": "l"
      },
      "expected": 1,
      "tolerance": 0.001
    },
    {
      "name": "Volume: 2 cup = 1 pt",
      "type": "conversion",
      "input": {
        "value": 2,
        "from": "cup",
        "to": "pt"
      },
      "expected": 1,
      "tolerance": 0.001
    },
    {
      "name": "Volume: 2 pt = 1 qt",
      "type": "conversion",
      "input": {
        "value": 2,
        "from": "pt",
        "to": "qt"
      },
      "expected": 1,
      "tolerance": 0.001
    },
    {
      "name": "Volume: 4 qt = 1 gal",
      "type": "conversion",
      "input": {
        "value": 4,
        "from": "qt",
        "to": "gal"
      },
      "expected": 1,
      "tolerance": 0.001
    },
    {
      "name": "Area: 100 mm² = 1 cm²",
      "type": "conversion",
      "input": {
        "value": 100,
        "from": "mm2",
        "to": "cm2"
      },
      "expected": 1,
      "tolerance": 0.001
    },
    {
      "name": "Area: 1 km² = 1,000,000 m²",
      "type": "conversion",
      "input": {
        "value": 1,
        "from": "km2",
        "to": "m2"
      },
      "expected": 1000000,
      "tolerance": 0.001
    },
    {
      "name": "Area: 144 in² = 1 ft²",
      "type": "conversion",
      "input": {
        "value": 144,
        "from": "in2",
        "to": "ft2"
      },
      "expected": 1,
      "tolerance": 0.001
    },
    {
      "name": "Dimension: \"4.5 × 3.2 × 2.8 meters\" detected",
      "type": "dimensionDetection",
      "input": {
        "text": "4.5 × 3.2 × 2.8 meters",
        "userSettings": {
          "lengthUnit": "cm",
          "areaUnit": "m2",
          "weightUnit": "kg",
          "temperatureUnit": "c",
          "volumeUnit": "l",
          "currencyUnit": "USD"
        }
      },
      "expected": {
        "detected": true
      }
    },
    {
      "name": "Dimension: Metric dimensions convert to cm",
      "type": "dimensionConversion",
      "input": {
        "text": "4.5 × 3.2 × 2.8 meters",
        "userSettings": {
          "lengthUnit": "cm",
          "areaUnit": "m2",
          "weightUnit": "kg",
          "temperatureUnit": "c",
          "volumeUnit": "l",
          "currencyUnit": "USD"
        }
      },
      "expected": {
        "containsUnit": "cm"
      }
    },
    {
      "name": "Dimension: \"10 x 5 x 3 inches\" detected",
      "type": "dimensionDetection",
      "input": {
        "text": "10 x 5 x 3 inches",
        "userSettings": {
          "lengthUnit": "cm",
          "areaUnit": "m2",
          "weightUnit": "kg",
          "temperatureUnit": "c",
          "volumeUnit": "l",
          "currencyUnit": "USD"
        }
      },
      "expected": {
        "detected": true
      }
    },
    {
      "name": "Dimension: Imperial dimensions convert to cm",
      "type": "dimensionConversion",
      "input": {
        "text": "10 x 5 x 3 inches",
        "userSettings": {
          "lengthUnit": "cm",
          "areaUnit": "m2",
          "weightUnit": "kg",
          "temperatureUnit": "c",
          "volumeUnit": "l",
          "currencyUnit": "USD"
        }
      },
      "expected": {
        "containsUnit": "cm"
      }
    },
    {
      "name": "Dimension: \"8 x 4 x 2 feet\" with x separator detected",
      "type": "dimensionDetection",
      "input": {
        "text": "8 x 4 x 2 feet",
        "userSettings": {
          "lengthUnit": "cm",
          "areaUnit": "m2",
          "weightUnit": "kg",
          "temperatureUnit": "c",
          "volumeUnit": "l",
          "currencyUnit": "USD"
        }
      },
      "expected": {
        "detected": true
      }
    },
    {
      "name": "Dimension: \"6 × 3 × 1.5 meters\" with × separator detected",
      "type": "dimensionDetection",
      "input": {
        "text": "6 × 3 × 1.5 meters",
        "userSettings": {
          "lengthUnit": "cm",
          "areaUnit": "m2",
          "weightUnit": "kg",
          "temperatureUnit": "c",
          "volumeUnit": "l",
          "currencyUnit": "USD"
        }
      },
      "expected": {
        "detected": true
      }
    },
    {
      "name": "Dimension: \"12 by 8 by 6 feet\" with by separator detected",
      "type": "dimensionDetection",
      "input": {
        "text": "12 by 8 by 6 feet",
        "userSettings": {
          "lengthUnit": "cm",
          "areaUnit": "m2",
          "weightUnit": "kg",
          "temperatureUnit": "c",
          "volumeUnit": "l",
          "currencyUnit": "USD"
        }
      },
      "expected": {
        "detected": true
      }
    },
    {
      "name": "Speed: 1 m/s = 3.6 km/h",
      "type": "conversion",
      "input": {
        "value": 1,
        "from": "ms",
        "to": "kmh"
      },
      "expected": 3.6,
      "tolerance": 0.001
    },
    {
      "name": "Speed: 60 mph ≈ 96.56 km/h",
      "type": "conversion",
      "input": {
        "value": 60,
        "from": "mph",
        "to": "kmh"
      },
      "expected": 96.56064,
      "tolerance": 0.001
    },
    {
      "name": "Speed: 100 km/h ≈ 27.78 m/s",
      "type": "conversion",
      "input": {
        "value": 100,
        "from": "kmh",
        "to": "ms"
      },
      "expected": 27.77778,
      "tolerance": 0.001
    },
    {
      "name": "Speed: 1 knot ≈ 1.852 km/h",
      "type": "conversion",
      "input": {
        "value": 1,
        "from": "kn",
        "to": "kmh"
      },
      "expected": 1.852,
      "tolerance": 0.001
    },
    {
      "name": "Torque: 1 N⋅m = 0.7376 lb⋅ft",
      "type": "conversion",
      "input": {
        "value": 1,
        "from": "nm",
        "to": "lbft"
      },
      "expected": 0.737562,
      "tolerance": 0.001
    },
    {
      "name": "Torque: 100 lb⋅ft ≈ 135.58 N⋅m",
      "type": "conversion",
      "input": {
        "value": 100,
        "from": "lbft",
        "to": "nm"
      },
      "expected": 135.582,
      "tolerance": 0.01
    },
    {
      "name": "Torque: 1 lb⋅ft = 12 lb⋅in",
      "type": "conversion",
      "input": {
        "value": 1,
        "from": "lbft",
        "to": "lbin"
      },
      "expected": 12,
      "tolerance": 0.001
    },
    {
      "name": "Pressure: 1 bar = 100000 Pa",
      "type": "conversion",
      "input": {
        "value": 1,
        "from": "bar",
        "to": "pa"
      },
      "expected": 100000,
      "tolerance": 0.1
    },
    {
      "name": "Pressure: 1 atm = 101325 Pa",
      "type": "conversion",
      "input": {
        "value": 1,
        "from": "atm",
        "to": "pa"
      },
      "expected": 101325,
      "tolerance": 1
    },
    {
      "name": "Pressure: 14.7 psi ≈ 1 atm",
      "type": "conversion",
      "input": {
        "value": 14.696,
        "from": "psi",
        "to": "atm"
      },
      "expected": 1,
      "tolerance": 0.01
    },
    {
      "name": "Pressure: 760 mmHg = 1 atm",
      "type": "conversion",
      "input": {
        "value": 760,
        "from": "mmhg",
        "to": "atm"
      },
      "expected": 1,
      "tolerance": 0.001
    },
    {
      "name": "Timezone: 3:30 PM EST → PST",
      "type": "timezoneConversion",
      "input": {
        "time": "3:30 PM EST",
        "from": "EST",
        "to": "PST"
      },
      "expected": "12:30 PM PST",
      "tolerance": 0
    },
    {
      "name": "Timezone: 9:45 AM GMT → PST",
      "type": "timezoneConversion",
      "input": {
        "time": "9:45 AM GMT",
        "from": "GMT",
        "to": "PST"
      },
      "expected": "1:45 AM PST",
      "tolerance": 0
    },
    {
      "name": "Timezone: 10:30 AM UTC → PST",
      "type": "timezoneConversion",
      "input": {
        "time": "10:30 AM UTC",
        "from": "UTC",
        "to": "PST"
      },
      "expected": "2:30 AM PST",
      "tolerance": 0
    },
    {
      "name": "Timezone: 6:20 PM JST → PST",
      "type": "timezoneConversion",
      "input": {
        "time": "6:20 PM JST",
        "from": "JST",
        "to": "PST"
      },
      "expected": "1:20 AM PST",
      "tolerance": 0
    },
    {
      "name": "Timezone: 4:30 PM CET → PST",
      "type": "timezoneConversion",
      "input": {
        "time": "4:30 PM CET",
        "from": "CET",
        "to": "PST"
      },
      "expected": "7:30 AM PST",
      "tolerance": 0
    },
    {
      "name": "Timezone: 2:30 PM GMT+5 → PST",
      "type": "timezoneConversion",
      "input": {
        "time": "2:30 PM GMT+5",
        "from": "GMT+5",
        "to": "PST"
      },
      "expected": "1:30 AM PST",
      "tolerance": 0
    },
    {
      "name": "Timezone: 15:30 EST → PST (24-hour format)",
      "type": "timezoneConversion",
      "input": {
        "time": "15:30 EST",
        "from": "EST",
        "to": "PST"
      },
      "expected": "12:30 PM PST",
      "tolerance": 0
    },
    {
      "name": "Timezone: 3:30pm Eastern → PST (alternative format)",
      "type": "timezoneConversion",
      "input": {
        "time": "3:30pm Eastern",
        "from": "EASTERN",
        "to": "PST"
      },
      "expected": "12:30 PM PST",
      "tolerance": 0
    }
  ],
  "OtherTests": [
    {
      "name": "Format: 3.14159 → 3.14 m",
      "type": "format",
      "input": {
        "value": 3.14159,
        "unit": "m"
      },
      "expected": "3.14 m"
    },
    {
      "name": "Format: 1.999 → 2 kg",
      "type": "format",
      "input": {
        "value": 1.999,
        "unit": "kg"
      },
      "expected": "2 kg"
    },
    {
      "name": "Format: 0.666666 → 0.67 ft",
      "type": "format",
      "input": {
        "value": 0.666666,
        "unit": "ft"
      },
      "expected": "0.67 ft"
    },
    {
      "name": "Format: 10 → 10 cm",
      "type": "format",
      "input": {
        "value": 10,
        "unit": "cm"
      },
      "expected": "10 cm"
    },
    {
      "name": "Edge: 0 m = 0 cm",
      "type": "conversion",
      "input": {
        "value": 0,
        "from": "m",
        "to": "cm"
      },
      "expected": 0,
      "tolerance": 0.001
    },
    {
      "name": "Edge: 0.001 m = 1 mm",
      "type": "conversion",
      "input": {
        "value": 0.001,
        "from": "m",
        "to": "mm"
      },
      "expected": 1,
      "tolerance": 0.001
    },
    {
      "name": "Edge: 1,000,000 m = 1000 km",
      "type": "conversion",
      "input": {
        "value": 1000000,
        "from": "m",
        "to": "km"
      },
      "expected": 1000,
      "tolerance": 0.001
    },
    {
      "name": "Edge: Invalid unit returns null",
      "type": "conversionNull",
      "input": {
        "value": 100,
        "from": "m",
        "to": "invalid_unit"
      },
      "expected": null
    },
    {
      "name": "Edge: Different unit types return null",
      "type": "conversionNull",
      "input": {
        "value": 100,
        "from": "m",
        "to": "kg"
      },
      "expected": null
    },
    {
      "name": "Acceleration: 1 m/s² ≈ 3.28084 ft/s²",
      "type": "conversion",
      "input": {
        "value": 1,
        "from": "ms2",
        "to": "fts2"
      },
      "expected": 3.28084,
      "tolerance": 0.001
    },
    {
      "name": "Acceleration: 9.80665 m/s² = 1 g-force",
      "type": "conversion",
      "input": {
        "value": 9.80665,
        "from": "ms2",
        "to": "gforce"
      },
      "expected": 1,
      "tolerance": 0.001
    },
    {
      "name": "Acceleration: 1 g-force ≈ 32.174 ft/s²",
      "type": "conversion",
      "input": {
        "value": 1,
        "from": "gforce",
        "to": "fts2"
      },
      "expected": 32.174,
      "tolerance": 0.01
    },
    {
      "name": "Acceleration: 10 ft/s² ≈ 3.048 m/s²",
      "type": "conversion",
      "input": {
        "value": 10,
        "from": "fts2",
        "to": "ms2"
      },
      "expected": 3.048,
      "tolerance": 0.001
    },
    {
      "name": "Flow Rate: 1 L/min ≈ 0.264172 gal/min",
      "type": "conversion",
      "input": {
        "value": 1,
        "from": "lmin",
        "to": "galmin"
      },
      "expected": 0.264172,
      "tolerance": 0.001
    },
    {
      "name": "Flow Rate: 60000 L/min = 1 m³/s",
      "type": "conversion",
      "input": {
        "value": 60000,
        "from": "lmin",
        "to": "m3s"
      },
      "expected": 1,
      "tolerance": 0.1
    },
    {
      "name": "Flow Rate: 1 gal/min ≈ 3.78541 L/min",
      "type": "conversion",
      "input": {
        "value": 1,
        "from": "galmin",
        "to": "lmin"
      },
      "expected": 3.78541,
      "tolerance": 0.001
    },
    {
      "name": "Flow Rate: 1 m³/h = 60 L/min",
      "type": "conversion",
      "input": {
        "value": 1,
        "from": "m3h",
        "to": "lmin"
      },
      "expected": 16.6667,
      "tolerance": 0.001
    },
    {
      "name": "Flow Rate: 1 CFM ≈ 28.3168 L/min",
      "type": "conversion",
      "input": {
        "value": 1,
        "from": "cfm",
        "to": "lmin"
      },
      "expected": 28.3168,
      "tolerance": 0.01
    }
  ]
}